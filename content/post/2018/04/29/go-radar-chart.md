+++
title = "Go言語でレーダーチャートを書こうとしてみた"
slug = "go-radar-chart"
date = 2018-04-29T11:21:20+09:00
categories = ["技術"]
tags = ["チャート", "グラフ", "集計", "golang"]
+++

はじめに
------------------------------------------------------------------------------

この記事ではGo言語でレーダーチャートを書こうとした意図と途中経過を書いています。
レーダーチャートの実装はまだ途中です。画像に枠線を書く程度の実装しかできていませ
ん。簡単なコードは載せています。

目的
--------------------------------------------------------------------------------

RPGツクールってキャラクターのパラメータとかを可視化して確認する機能がない。
Excelで別でテーブルを用意してもいいけれど、一番楽なのはゲームのデータを抽出して
そこからグラフ画像を生成すること。

せっかくなのでGoで書いてCLIツールにしてしまおうと考えた。
そのためには、まずレーダーチャートを描画する機能を実装する必要がある。

必要な機能
--------------------------------------------------------------------------------

作りたいものは２つ。

- 汎用的なライブラリ
- ツクール用のCLIツール

### ライブラリ

1. 生成する画像の横幅を変更できること
1. レーダーチャートの色を自由に変更できること
1. レーダーには文字も描画されること
1. ダサくないこと(原色NG)
1. CLIツールとしても利用できること

### ツクール用

#### アクター系

1. いきなりダブルクリックで画像を生成できること(デフォルト設定必須)
1. アクター名のパラメータファイルを生成できること
1. 各アクターごとにグラフを生成できること
1. 全アクターの画像を重ねて出力できること
1. Lv1時のグラフを出力できること
1. Lv99時のグラフを出力できること
1. CSV出力できること

#### エネミー系

1. ATK別、DEF別で棒グラフで一覧できること
1. CSV出力できること

サンプルコード
--------------------------------------------------------------------------------

[作成中のリポジトリ](https://github.com/jiro4989/go-radar-chart)

![チャート](/img/2018/04/29/go-radar-chart/chart01.png)

<script src="https://gist.github.com/jiro4989/b8d7fc43745f019c28064bf0d2077eca.js"></script>

実装状況
--------------------------------------------------------------------------------

### できたこと

- 枠線の描画
- 背景色の描画
- ラベル描画

### 課題

- アンチエイリアス
- ラベルがグラフにかぶる
- ライブラリ化

所感
--------------------------------------------------------------------------------

大学のときにMatlabとかでやった数値計算系やグラフプロットが役に立つ日が来るとはなぁ...。
当時のぼくは考えもしませんでした。
もっと真面目に数学の勉強しとけばよかったって、ホント思います。

参考リンク
--------------------------------------------------------------------------------

- [ラジアンの意味](https://sci-pursuit.com/math/radian.html)
- [テキストを画像ファイルに描画](https://stackoverflow.com/questions/38299930/how-to-add-a-simple-text-label-to-an-image-in-go)
